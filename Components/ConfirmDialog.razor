@namespace JournalApp.Components

<div class="modal-overlay" @onclick="HandleOverlayClick">
    <div class="modal-dialog" @onclick:stopPropagation="true">
        <div class="modal-header">
            <h3>@Title</h3>
        </div>
        
        <div class="modal-body">
            <p>@Message</p>
        </div>
        
        <div class="modal-footer">
            <button class="btn btn-secondary" @onclick="Cancel">
                Cancel
            </button>
            <button class="btn btn-danger" @onclick="Confirm">
                @ConfirmText
            </button>
        </div>
    </div>
</div>

@code {
    [Parameter]
    public string Title { get; set; } = "Confirm";
    
    [Parameter]
    public string Message { get; set; } = "Are you sure?";
    
    [Parameter]
    public string ConfirmText { get; set; } = "Confirm";
    
    [Parameter]
    public EventCallback OnConfirm { get; set; }
    
    [Parameter]
    public EventCallback OnCancel { get; set; }
    
    private async Task Confirm()
    {
        await OnConfirm.InvokeAsync();
    }
    
    private async Task Cancel()
    {
        await OnCancel.InvokeAsync();
    }
    
    private async Task HandleOverlayClick()
    {
        await OnCancel.InvokeAsync();
    }
}
